(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function l(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=l(r);fetch(r.href,i)}})();function k(){}function ye(e,t){for(const l in t)e[l]=t[l];return e}function _t(e){return e()}function Qe(){return Object.create(null)}function H(e){e.forEach(_t)}function dt(e){return typeof e=="function"}function J(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let me;function W(e,t){return me||(me=document.createElement("a")),me.href=t,e===me.href}function St(e){return Object.keys(e).length===0}function gt(e,...t){if(e==null)return k;const l=e.subscribe(...t);return l.unsubscribe?()=>l.unsubscribe():l}function ke(e){let t;return gt(e,l=>t=l)(),t}function I(e,t,l){e.$$.on_destroy.push(gt(t,l))}function Lt(e,t,l,n){if(e){const r=mt(e,t,l,n);return e[0](r)}}function mt(e,t,l,n){return e[1]&&n?ye(l.ctx.slice(),e[1](n(t))):l.ctx}function zt(e,t,l,n){if(e[2]&&n){const r=e[2](n(l));if(t.dirty===void 0)return r;if(typeof r=="object"){const i=[],o=Math.max(t.dirty.length,r.length);for(let s=0;s<o;s+=1)i[s]=t.dirty[s]|r[s];return i}return t.dirty|r}return t.dirty}function Et(e,t,l,n,r,i){if(r){const o=mt(t,l,n,i);e.p(o,r)}}function Ct(e){if(e.ctx.length>32){const t=[],l=e.ctx.length/32;for(let n=0;n<l;n++)t[n]=-1;return t}return-1}function Xe(e){const t={};for(const l in e)l[0]!=="$"&&(t[l]=e[l]);return t}function Ye(e){return e==null?"":e}function d(e,t){e.appendChild(t)}function y(e,t,l){e.insertBefore(t,l||null)}function v(e){e.parentNode.removeChild(e)}function Le(e,t){for(let l=0;l<e.length;l+=1)e[l]&&e[l].d(t)}function g(e){return document.createElement(e)}function re(e){return document.createTextNode(e)}function p(){return re(" ")}function jt(){return re("")}function C(e,t,l,n){return e.addEventListener(t,l,n),()=>e.removeEventListener(t,l,n)}function je(e){return function(t){return t.preventDefault(),e.call(this,t)}}function a(e,t,l){l==null?e.removeAttribute(t):e.getAttribute(t)!==l&&e.setAttribute(t,l)}function Ze(e,t){const l=Object.getOwnPropertyDescriptors(e.__proto__);for(const n in t)t[n]==null?e.removeAttribute(n):n==="style"?e.style.cssText=t[n]:n==="__value"?e.value=e[n]=t[n]:l[n]&&l[n].set?e[n]=t[n]:a(e,n,t[n])}function At(e){return Array.from(e.childNodes)}function Oe(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function M(e,t,l){e.classList[l?"add":"remove"](t)}function It(e,t,{bubbles:l=!1,cancelable:n=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,l,n,t),r}let fe;function ce(e){fe=e}function Tt(){if(!fe)throw new Error("Function called outside component initialization");return fe}function ht(){const e=Tt();return(t,l,{cancelable:n=!1}={})=>{const r=e.$$.callbacks[t];if(r){const i=It(t,l,{cancelable:n});return r.slice().forEach(o=>{o.call(e,i)}),!i.defaultPrevented}return!0}}function pt(e,t){const l=e.$$.callbacks[t.type];l&&l.slice().forEach(n=>n.call(this,t))}const ue=[],we=[],pe=[],Ie=[],Nt=Promise.resolve();let Te=!1;function Ot(){Te||(Te=!0,Nt.then(vt))}function Ne(e){pe.push(e)}function xe(e){Ie.push(e)}const Ae=new Set;let he=0;function vt(){const e=fe;do{for(;he<ue.length;){const t=ue[he];he++,ce(t),qt(t.$$)}for(ce(null),ue.length=0,he=0;we.length;)we.pop()();for(let t=0;t<pe.length;t+=1){const l=pe[t];Ae.has(l)||(Ae.add(l),l())}pe.length=0}while(ue.length);for(;Ie.length;)Ie.pop()();Te=!1,Ae.clear(),ce(e)}function qt(e){if(e.fragment!==null){e.update(),H(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Ne)}}const ve=new Set;let G;function qe(){G={r:0,c:[],p:G}}function Pe(){G.r||H(G.c),G=G.p}function $(e,t){e&&e.i&&(ve.delete(e),e.i(t))}function L(e,t,l,n){if(e&&e.o){if(ve.has(e))return;ve.add(e),G.c.push(()=>{ve.delete(e),n&&(l&&e.d(1),n())}),e.o(t)}else n&&n()}function Pt(e,t){const l={},n={},r={$$scope:1};let i=e.length;for(;i--;){const o=e[i],s=t[i];if(s){for(const u in o)u in s||(n[u]=1);for(const u in s)r[u]||(l[u]=s[u],r[u]=1);e[i]=s}else for(const u in o)r[u]=1}for(const o in n)o in l||(l[o]=void 0);return l}function et(e,t,l){const n=e.$$.props[t];n!==void 0&&(e.$$.bound[n]=l,l(e.$$.ctx[n]))}function B(e){e&&e.c()}function T(e,t,l,n){const{fragment:r,after_update:i}=e.$$;r&&r.m(t,l),n||Ne(()=>{const o=e.$$.on_mount.map(_t).filter(dt);e.$$.on_destroy?e.$$.on_destroy.push(...o):H(o),e.$$.on_mount=[]}),i.forEach(Ne)}function N(e,t){const l=e.$$;l.fragment!==null&&(H(l.on_destroy),l.fragment&&l.fragment.d(t),l.on_destroy=l.fragment=null,l.ctx=[])}function Bt(e,t){e.$$.dirty[0]===-1&&(ue.push(e),Ot(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function U(e,t,l,n,r,i,o,s=[-1]){const u=fe;ce(e);const _=e.$$={fragment:null,ctx:[],props:i,update:k,not_equal:r,bound:Qe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:Qe(),dirty:s,skip_bound:!1,root:t.target||u.$$.root};o&&o(_.root);let f=!1;if(_.ctx=l?l(e,t.props||{},(c,m,...z)=>{const w=z.length?z[0]:m;return _.ctx&&r(_.ctx[c],_.ctx[c]=w)&&(!_.skip_bound&&_.bound[c]&&_.bound[c](w),f&&Bt(e,c)),m}):[],_.update(),f=!0,H(_.before_update),_.fragment=n?n(_.ctx):!1,t.target){if(t.hydrate){const c=At(t.target);_.fragment&&_.fragment.l(c),c.forEach(v)}else _.fragment&&_.fragment.c();t.intro&&$(e.$$.fragment),T(e,t.target,t.anchor,t.customElement),vt()}ce(u)}class K{$destroy(){N(this,1),this.$destroy=k}$on(t,l){if(!dt(l))return k;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(l),()=>{const r=n.indexOf(l);r!==-1&&n.splice(r,1)}}$set(t){this.$$set&&!St(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Dt(e){let t,l,n,r,i,o,s,u=[{type:e[3]},{name:e[2]},{id:e[2]},e[4],{value:e[0]}],_={};for(let f=0;f<u.length;f+=1)_=ye(_,u[f]);return{c(){t=g("div"),l=g("label"),n=re(e[1]),r=p(),i=g("input"),a(l,"for",e[2]),Ze(i,_)},m(f,c){y(f,t,c),d(t,l),d(l,n),d(t,r),d(t,i),i.value=_.value,i.autofocus&&i.focus(),o||(s=[C(i,"input",e[5]),C(i,"keypress",e[6])],o=!0)},p(f,[c]){c&2&&Oe(n,f[1]),c&4&&a(l,"for",f[2]),Ze(i,_=Pt(u,[c&8&&{type:f[3]},c&4&&{name:f[2]},c&4&&{id:f[2]},c&16&&f[4],c&1&&i.value!==f[0]&&{value:f[0]}])),"value"in _&&(i.value=_.value)},i:k,o:k,d(f){f&&v(t),o=!1,H(s)}}}function Mt(e,t,l){let{value:n=""}=t,{label:r="Input"}=t,{name:i="input"}=t,{type:o="text"}=t,{inputParams:s={}}=t;const u=ht(),_=c=>{l(0,n=c.target.value),(o==="number"||o==="range")&&l(0,n=Number(n)),u("input",n)};function f(c){pt.call(this,e,c)}return e.$$set=c=>{"value"in c&&l(0,n=c.value),"label"in c&&l(1,r=c.label),"name"in c&&l(2,i=c.name),"type"in c&&l(3,o=c.type),"inputParams"in c&&l(4,s=c.inputParams)},[n,r,i,o,s,_,f]}class tt extends K{constructor(t){super(),U(this,t,Mt,Dt,J,{value:0,label:1,name:2,type:3,inputParams:4})}}function Ht(e){let t,l,n,r,i,o,s,u;const _=e[4].default,f=Lt(_,e,e[3],null);return{c(){t=g("nav"),l=g("h2"),n=re(e[0]),r=p(),i=g("hr"),o=p(),f&&f.c(),a(l,"class","svelte-15oiif1"),a(i,"class","svelte-15oiif1"),a(t,"class",s=Ye(e[2].class)+" svelte-15oiif1"),M(t,"leftShadow",e[1]=="left"),M(t,"rightShadow",e[1]=="right")},m(c,m){y(c,t,m),d(t,l),d(l,n),d(t,r),d(t,i),d(t,o),f&&f.m(t,null),u=!0},p(c,[m]){(!u||m&1)&&Oe(n,c[0]),f&&f.p&&(!u||m&8)&&Et(f,_,c,c[3],u?zt(_,c[3],m,null):Ct(c[3]),null),(!u||m&4&&s!==(s=Ye(c[2].class)+" svelte-15oiif1"))&&a(t,"class",s),(!u||m&6)&&M(t,"leftShadow",c[1]=="left"),(!u||m&6)&&M(t,"rightShadow",c[1]=="right")},i(c){u||($(f,c),u=!0)},o(c){L(f,c),u=!1},d(c){c&&v(t),f&&f.d(c)}}}function Jt(e,t,l){let{$$slots:n={},$$scope:r}=t,{title:i="Undefined"}=t,{shadow:o="left"}=t;return e.$$set=s=>{l(2,t=ye(ye({},t),Xe(s))),"title"in s&&l(0,i=s.title),"shadow"in s&&l(1,o=s.shadow),"$$scope"in s&&l(3,r=s.$$scope)},t=Xe(t),[i,o,t,r,n]}class bt extends K{constructor(t){super(),U(this,t,Jt,Ht,J,{title:0,shadow:1})}}const le=[];function de(e,t=k){let l;const n=new Set;function r(s){if(J(e,s)&&(e=s,l)){const u=!le.length;for(const _ of n)_[1](),le.push(_,e);if(u){for(let _=0;_<le.length;_+=2)le[_][0](le[_+1]);le.length=0}}}function i(s){r(s(e))}function o(s,u=k){const _=[s,u];return n.add(_),n.size===1&&(l=t(r)||k),s(e),()=>{n.delete(_),n.size===0&&(l(),l=null)}}return{set:r,update:i,subscribe:o}}const $e=de(-1);function yt(e,t,l){const{subscribe:n,set:r,update:i}=de(e);return{subscribe:n,set(o){o<t?o=t:o>l&&(o=l),r(o)},update(o){i(s=>(s=o(s),s<t?s=t:s>l&&(s=l),s))}}}const ae=yt(10,1,50),_e=yt(10,1,50);function Rt(){const{subscribe:e,set:t,update:l}=de(new Array);return{subscribe:e,set:t,addLevel(){l(n=>[...n,Array.from({length:ke(_e)},r=>Array(ke(ae)).fill(-1))])},pushLevel(n){l(r=>[...r,n])},removeLevel(n){l(r=>r.filter((i,o)=>o!==n))},setLevelCell(n,r,i,o){console.log("setLevelCell",n,r,i,o),l(s=>(s[n][r][i]=o,s))},resize(n,r){l(i=>i.map(o=>{const s=o.map(u=>u.length>=n?u.slice(0,n):[...u,...Array(n-u.length).fill(-1)]);return s.length>=r?s.slice(0,r):[...s,...Array.from({length:r-s.length},u=>Array(n).fill(-1))]}))},reset(){l(n=>new Array)}}}const O=Rt(),lt=localStorage.getItem("levels");if(lt){const e=JSON.parse(lt);O.set(e.levels),ae.set(e.width),_e.set(e.height)}O.subscribe(e=>{localStorage.setItem("levels",JSON.stringify({width:ke(ae),height:ke(_e),levels:e}))});const ne=de(Array()),nt=localStorage.getItem("images");nt&&ne.set(JSON.parse(nt));ne.subscribe(e=>{localStorage.setItem("images",JSON.stringify(e))});const be=de(0),Ft="/Vivian-level-editor/assets/trash.8b6cb216.svg";function rt(e,t,l){const n=e.slice();return n[15]=t[l],n[17]=l,n}function it(e){let t,l,n,r,i,o,s,u,_;return{c(){t=g("li"),l=g("input"),n=p(),r=g("label"),i=g("img"),a(l,"type","radio"),a(l,"name","tile"+String(e[17])),a(l,"id","tile"+String(e[17])),l.__value=e[17],l.value=l.__value,a(l,"class","svelte-17mgxwz"),e[12][0].push(l),W(i.src,o=e[15].data)||a(i,"src",o),a(i,"alt",s=e[15].name),a(i,"class","svelte-17mgxwz"),a(r,"for","tile"+String(e[17])),a(r,"class","svelte-17mgxwz"),M(r,"current",e[3]==e[17]),a(t,"class","tileSelector__itemList__tile svelte-17mgxwz")},m(f,c){y(f,t,c),d(t,l),l.checked=l.__value===e[3],d(t,n),d(t,r),d(r,i),u||(_=C(l,"change",e[13]),u=!0)},p(f,c){c&8&&(l.checked=l.__value===f[3]),c&16&&!W(i.src,o=f[15].data)&&a(i,"src",o),c&16&&s!==(s=f[15].name)&&a(i,"alt",s),c&8&&M(r,"current",f[3]==f[17])},d(f){f&&v(t),e[12][0].splice(e[12][0].indexOf(l),1),u=!1,_()}}}function Gt(e){let t,l,n,r,i,o,s,u,_,f,c,m,z,w,ie,ge,A,b,V,R,Be,Q,se,De,ze,Me,q,X,S,He,F,Y,Je,Re,Ee,Z,D,Fe,oe,x,Ce,Ge;function wt(h){e[9](h)}let We={label:"Width:",name:"width",type:"number",inputParams:{min:0,max:100,step:1}};e[2]!==void 0&&(We.value=e[2]),w=new tt({props:We}),we.push(()=>et(w,"value",wt)),w.$on("keypress",e[6]);function $t(h){e[10](h)}let Ue={label:"Height:",name:"height",type:"number",inputParams:{min:0,max:100,step:1}};e[1]!==void 0&&(Ue.value=e[1]),A=new tt({props:Ue}),we.push(()=>et(A,"value",$t)),A.$on("keypress",e[6]);let ee=e[4],E=[];for(let h=0;h<ee.length;h+=1)E[h]=it(rt(e,ee,h));return{c(){t=g("form"),l=g("div"),n=g("h3"),n.textContent="Project Manager",r=p(),i=g("button"),i.textContent="Import level set",o=p(),s=g("button"),s.textContent="Export level set",u=p(),_=g("button"),_.textContent="Delete current project",f=p(),c=g("div"),m=g("h3"),m.textContent="Grid Size",z=p(),B(w.$$.fragment),ge=p(),B(A.$$.fragment),V=p(),R=g("button"),R.textContent="Resize",Be=p(),Q=g("div"),se=g("h3"),De=re("Tile selector : "),ze=re(e[3]),Me=p(),q=g("ul"),X=g("li"),S=g("input"),He=p(),F=g("label"),Y=g("img"),Re=p();for(let h=0;h<E.length;h+=1)E[h].c();Ee=p(),Z=g("li"),D=g("input"),Fe=p(),oe=g("label"),oe.textContent="+",a(n,"class","svelte-17mgxwz"),a(i,"class","svelte-17mgxwz"),a(s,"class","svelte-17mgxwz"),a(_,"class","warn svelte-17mgxwz"),a(l,"class","fileManager svelte-17mgxwz"),a(m,"class","svelte-17mgxwz"),a(R,"class","svelte-17mgxwz"),a(c,"class","gridSize svelte-17mgxwz"),a(se,"class","svelte-17mgxwz"),a(S,"type","radio"),a(S,"name","tileEraser"),a(S,"id","tileEraser"),S.__value=-1,S.value=S.__value,a(S,"class","svelte-17mgxwz"),e[12][0].push(S),W(Y.src,Je=Ft)||a(Y,"src",Je),a(Y,"alt","Empty tile"),a(Y,"class","svelte-17mgxwz"),a(F,"for","tileEraser"),a(F,"class","noBg svelte-17mgxwz"),M(F,"current",e[3]==-1),a(X,"class","tileSelector__itemList__tile svelte-17mgxwz"),a(D,"type","file"),a(D,"id","newTileButton"),a(D,"accept","*.png, *.jpg, *.jpeg"),a(D,"class","svelte-17mgxwz"),a(oe,"for","newTileButton"),a(oe,"class","noBg svelte-17mgxwz"),a(Z,"class","tileSelector__itemList__tile svelte-17mgxwz"),a(q,"class","tileSelector__itemList svelte-17mgxwz"),a(Q,"class","tileSelector"),a(t,"class","svelte-17mgxwz")},m(h,P){y(h,t,P),d(t,l),d(l,n),d(l,r),d(l,i),d(l,o),d(l,s),d(l,u),d(l,_),d(t,f),d(t,c),d(c,m),d(c,z),T(w,c,null),d(c,ge),T(A,c,null),d(c,V),d(c,R),d(t,Be),d(t,Q),d(Q,se),d(se,De),d(se,ze),d(Q,Me),d(Q,q),d(q,X),d(X,S),S.checked=S.__value===e[3],d(X,He),d(X,F),d(F,Y),d(q,Re);for(let te=0;te<E.length;te+=1)E[te].m(q,null);d(q,Ee),d(q,Z),d(Z,D),d(Z,Fe),d(Z,oe),x=!0,Ce||(Ge=[C(_,"click",je(e[8])),C(R,"click",je(e[7])),C(S,"change",e[11]),C(D,"change",e[14]),C(D,"change",je(e[5]))],Ce=!0)},p(h,P){const te={};!ie&&P&4&&(ie=!0,te.value=h[2],xe(()=>ie=!1)),w.$set(te);const Ke={};if(!b&&P&2&&(b=!0,Ke.value=h[1],xe(()=>b=!1)),A.$set(Ke),(!x||P&8)&&Oe(ze,h[3]),P&8&&(S.checked=S.__value===h[3]),(!x||P&8)&&M(F,"current",h[3]==-1),P&24){ee=h[4];let j;for(j=0;j<ee.length;j+=1){const Ve=rt(h,ee,j);E[j]?E[j].p(Ve,P):(E[j]=it(Ve),E[j].c(),E[j].m(q,Ee))}for(;j<E.length;j+=1)E[j].d(1);E.length=ee.length}},i(h){x||($(w.$$.fragment,h),$(A.$$.fragment,h),x=!0)},o(h){L(w.$$.fragment,h),L(A.$$.fragment,h),x=!1},d(h){h&&v(t),N(w),N(A),e[12][0].splice(e[12][0].indexOf(S),1),Le(E,h),Ce=!1,H(Ge)}}}function Wt(e){let t,l;return t=new bt({props:{title:"Configuration",shadow:"right",$$slots:{default:[Gt]},$$scope:{ctx:e}}}),{c(){B(t.$$.fragment)},m(n,r){T(t,n,r),l=!0},p(n,[r]){const i={};r&262175&&(i.$$scope={dirty:r,ctx:n}),t.$set(i)},i(n){l||($(t.$$.fragment,n),l=!0)},o(n){L(t.$$.fragment,n),l=!1},d(n){N(t,n)}}}function Ut(e,t,l){let n,r,i,o;I(e,_e,b=>l(1,n=b)),I(e,ae,b=>l(2,r=b)),I(e,be,b=>l(3,i=b)),I(e,ne,b=>l(4,o=b));let s;const u=()=>{let b=s[0],V=new FileReader;V.onload=()=>{ne.update(R=>[...R,{name:b.name,data:V.result}])},V.readAsDataURL(b)},_=b=>{b.key==="Enter"&&(f(),b.preventDefault())},f=()=>{O.resize(r,n)},c=()=>{confirm("Are you sure you want to delete this project?")&&(O.reset(),ne.set([]))},m=[[]];function z(b){r=b,ae.set(r)}function w(b){n=b,_e.set(n)}function ie(){i=this.__value,be.set(i)}function ge(){i=this.__value,be.set(i)}function A(){s=this.files,l(0,s)}return[s,n,r,i,o,u,_,f,c,z,w,ie,m,ge,A]}class Kt extends K{constructor(t){super(),U(this,t,Ut,Wt,J,{})}}const Se="/Vivian-level-editor/assets/empty.9d6257ea.svg";function st(e,t,l){const n=e.slice();return n[8]=t[l],n[10]=l,n}function ot(e,t,l){const n=e.slice();return n[11]=t[l],n[13]=l,n}function Vt(e){let t,l,n,r,i;return{c(){t=g("img"),a(t,"class","grid__row__cell non-interactive svelte-qvhjhd"),W(t.src,l=e[11]==-1?Se:e[3][e[11]].data)||a(t,"src",l),a(t,"alt",n=e[11]==-1?"Empty cell":e[3][e[11]].name)},m(o,s){y(o,t,s),r||(i=C(t,"drag",Yt),r=!0)},p(o,s){s&13&&!W(t.src,l=o[11]==-1?Se:o[3][o[11]].data)&&a(t,"src",l),s&13&&n!==(n=o[11]==-1?"Empty cell":o[3][o[11]].name)&&a(t,"alt",n)},d(o){o&&v(t),r=!1,i()}}}function Qt(e){let t,l,n,r,i;function o(){return e[6](e[10],e[13])}return{c(){t=g("img"),a(t,"class","grid__row__cell svelte-qvhjhd"),W(t.src,l=e[11]==-1?Se:e[3][e[11]].data)||a(t,"src",l),a(t,"alt",n=e[11]==-1?"Empty cell":e[3][e[11]].name)},m(s,u){y(s,t,u),r||(i=[C(t,"click",o),C(t,"keydown",e[5])],r=!0)},p(s,u){e=s,u&13&&!W(t.src,l=e[11]==-1?Se:e[3][e[11]].data)&&a(t,"src",l),u&13&&n!==(n=e[11]==-1?"Empty cell":e[3][e[11]].name)&&a(t,"alt",n)},d(s){s&&v(t),r=!1,H(i)}}}function ut(e){let t;function l(i,o){return i[1]?Qt:Vt}let n=l(e),r=n(e);return{c(){r.c(),t=jt()},m(i,o){r.m(i,o),y(i,t,o)},p(i,o){n===(n=l(i))&&r?r.p(i,o):(r.d(1),r=n(i),r&&(r.c(),r.m(t.parentNode,t)))},d(i){r.d(i),i&&v(t)}}}function ct(e){let t,l,n=e[8],r=[];for(let i=0;i<n.length;i+=1)r[i]=ut(ot(e,n,i));return{c(){t=g("div");for(let i=0;i<r.length;i+=1)r[i].c();l=p(),a(t,"class","grid__row svelte-qvhjhd")},m(i,o){y(i,t,o);for(let s=0;s<r.length;s+=1)r[s].m(t,null);d(t,l)},p(i,o){if(o&31){n=i[8];let s;for(s=0;s<n.length;s+=1){const u=ot(i,n,s);r[s]?r[s].p(u,o):(r[s]=ut(u),r[s].c(),r[s].m(t,l))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(i){i&&v(t),Le(r,i)}}}function Xt(e){let t,l,n=e[2][e[0]],r=[];for(let i=0;i<n.length;i+=1)r[i]=ct(st(e,n,i));return{c(){t=g("div");for(let i=0;i<r.length;i+=1)r[i].c();a(t,"class","grid svelte-qvhjhd"),a(t,"id",l=String(e[0]))},m(i,o){y(i,t,o);for(let s=0;s<r.length;s+=1)r[s].m(t,null)},p(i,[o]){if(o&31){n=i[2][i[0]];let s;for(s=0;s<n.length;s+=1){const u=st(i,n,s);r[s]?r[s].p(u,o):(r[s]=ct(u),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}o&1&&l!==(l=String(i[0]))&&a(t,"id",l)},i:k,o:k,d(i){i&&v(t),Le(r,i)}}}const Yt=e=>!1;function Zt(e,t,l){let n,r;I(e,O,c=>l(2,n=c)),I(e,ne,c=>l(3,r=c));let{gridId:i}=t,{interactive:o=!1}=t;const s=ht(),u=(c,m)=>{console.log(c,m),s("click",{x:c,y:m})};function _(c){pt.call(this,e,c)}const f=(c,m)=>{u(c,m)};return e.$$set=c=>{"gridId"in c&&l(0,i=c.gridId),"interactive"in c&&l(1,o=c.interactive)},[i,o,n,r,u,_,f]}class kt extends K{constructor(t){super(),U(this,t,Zt,Xt,J,{gridId:0,interactive:1})}}function xt(e){let t;return{c(){t=g("p"),t.textContent="There is currently no level selected.",a(t,"class","center svelte-92ejb9")},m(l,n){y(l,t,n)},p:k,i:k,o:k,d(l){l&&v(t)}}}function el(e){let t,l,n,r,i,o;return{c(){t=g("div"),l=g("p"),l.textContent="There is currently no levels.",n=p(),r=g("button"),r.textContent="Add a new level",a(t,"class","center svelte-92ejb9")},m(s,u){y(s,t,u),d(t,l),d(t,n),d(t,r),i||(o=C(r,"click",e[2]),i=!0)},p:k,i:k,o:k,d(s){s&&v(t),i=!1,o()}}}function tl(e){let t,l,n;return l=new kt({props:{gridId:e[0],interactive:!0}}),l.$on("click",e[3]),{c(){t=g("div"),B(l.$$.fragment),a(t,"class","editor__gridContener svelte-92ejb9")},m(r,i){y(r,t,i),T(l,t,null),n=!0},p(r,i){const o={};i&1&&(o.gridId=r[0]),l.$set(o)},i(r){n||($(l.$$.fragment,r),n=!0)},o(r){L(l.$$.fragment,r),n=!1},d(r){r&&v(t),N(l)}}}function ll(e){let t,l,n,r;const i=[tl,el,xt],o=[];function s(u,_){return u[0]!=-1&&u[1].length>0?0:u[1].length==0?1:2}return l=s(e),n=o[l]=i[l](e),{c(){t=g("section"),n.c(),a(t,"class","editor svelte-92ejb9")},m(u,_){y(u,t,_),o[l].m(t,null),r=!0},p(u,[_]){let f=l;l=s(u),l===f?o[l].p(u,_):(qe(),L(o[f],1,1,()=>{o[f]=null}),Pe(),n=o[l],n?n.p(u,_):(n=o[l]=i[l](u),n.c()),$(n,1),n.m(t,null))},i(u){r||($(n),r=!0)},o(u){L(n),r=!1},d(u){u&&v(t),o[l].d()}}}function nl(e,t,l){let n,r,i;return I(e,be,u=>l(4,n=u)),I(e,$e,u=>l(0,r=u)),I(e,O,u=>l(1,i=u)),[r,i,()=>{O.addLevel(),$e.set(i.length-1)},u=>{console.log(n),O.setLevelCell(r,u.detail.x,u.detail.y,n)}]}class rl extends K{constructor(t){super(),U(this,t,nl,ll,J,{})}}function ft(e,t,l){const n=e.slice();return n[5]=t[l],n[7]=l,n}function il(e){let t;return{c(){t=g("p"),t.textContent="There is currently no levels."},m(l,n){y(l,t,n)},p:k,i:k,o:k,d(l){l&&v(t)}}}function sl(e){let t,l,n=e[0],r=[];for(let o=0;o<n.length;o+=1)r[o]=at(ft(e,n,o));const i=o=>L(r[o],1,1,()=>{r[o]=null});return{c(){t=g("ul");for(let o=0;o<r.length;o+=1)r[o].c();a(t,"class","levelList__list svelte-ynwbqm")},m(o,s){y(o,t,s);for(let u=0;u<r.length;u+=1)r[u].m(t,null);l=!0},p(o,s){if(s&3){n=o[0];let u;for(u=0;u<n.length;u+=1){const _=ft(o,n,u);r[u]?(r[u].p(_,s),$(r[u],1)):(r[u]=at(_),r[u].c(),$(r[u],1),r[u].m(t,null))}for(qe(),u=n.length;u<r.length;u+=1)i(u);Pe()}},i(o){if(!l){for(let s=0;s<n.length;s+=1)$(r[s]);l=!0}},o(o){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)L(r[s]);l=!1},d(o){o&&v(t),Le(r,o)}}}function at(e){let t,l,n,r,i,o,s,u,_;return i=new kt({props:{gridId:e[7],interactive:!1}}),{c(){t=g("li"),l=g("input"),n=p(),r=g("label"),B(i.$$.fragment),o=p(),a(l,"type","radio"),a(l,"name","level"),a(l,"id","level-"+e[7]),l.__value=e[7],l.value=l.__value,a(l,"class","svelte-ynwbqm"),e[4][0].push(l),a(r,"class","levelList__list__grid svelte-ynwbqm"),a(r,"for","level-"+e[7]),a(t,"class","svelte-ynwbqm")},m(f,c){y(f,t,c),d(t,l),l.checked=l.__value===e[1],d(t,n),d(t,r),T(i,r,null),d(t,o),s=!0,u||(_=C(l,"change",e[3]),u=!0)},p(f,c){c&2&&(l.checked=l.__value===f[1])},i(f){s||($(i.$$.fragment,f),s=!0)},o(f){L(i.$$.fragment,f),s=!1},d(f){f&&v(t),e[4][0].splice(e[4][0].indexOf(l),1),N(i),u=!1,_()}}}function ol(e){let t,l,n,r,i,o,s,u;const _=[sl,il],f=[];function c(m,z){return m[0].length!=0?0:1}return r=c(e),i=f[r]=_[r](e),{c(){t=g("button"),t.textContent="Add a new level",l=p(),n=g("div"),i.c(),a(t,"class","svelte-ynwbqm"),a(n,"class","levelList svelte-ynwbqm")},m(m,z){y(m,t,z),y(m,l,z),y(m,n,z),f[r].m(n,null),o=!0,s||(u=C(t,"click",e[2]),s=!0)},p(m,z){let w=r;r=c(m),r===w?f[r].p(m,z):(qe(),L(f[w],1,1,()=>{f[w]=null}),Pe(),i=f[r],i?i.p(m,z):(i=f[r]=_[r](m),i.c()),$(i,1),i.m(n,null))},i(m){o||($(i),o=!0)},o(m){L(i),o=!1},d(m){m&&v(t),m&&v(l),m&&v(n),f[r].d(),s=!1,u()}}}function ul(e){let t,l;return t=new bt({props:{title:"Level Selector",shadow:"left",$$slots:{default:[ol]},$$scope:{ctx:e}}}),{c(){B(t.$$.fragment)},m(n,r){T(t,n,r),l=!0},p(n,[r]){const i={};r&259&&(i.$$scope={dirty:r,ctx:n}),t.$set(i)},i(n){l||($(t.$$.fragment,n),l=!0)},o(n){L(t.$$.fragment,n),l=!1},d(n){N(t,n)}}}function cl(e,t,l){let n,r;I(e,O,u=>l(0,n=u)),I(e,$e,u=>l(1,r=u));const i=u=>{O.addLevel()},o=[[]];function s(){r=this.__value,$e.set(r)}return[n,r,i,s,o]}class fl extends K{constructor(t){super(),U(this,t,cl,ul,J,{})}}function al(e){let t,l,n,r,i,o,s,u,_;return r=new Kt({}),o=new rl({}),u=new fl({}),{c(){t=g("header"),t.innerHTML="<h1>Vivian level Editor</h1>",l=p(),n=g("main"),B(r.$$.fragment),i=p(),B(o.$$.fragment),s=p(),B(u.$$.fragment),a(n,"class","svelte-1fszlhy")},m(f,c){y(f,t,c),y(f,l,c),y(f,n,c),T(r,n,null),d(n,i),T(o,n,null),d(n,s),T(u,n,null),_=!0},p:k,i(f){_||($(r.$$.fragment,f),$(o.$$.fragment,f),$(u.$$.fragment,f),_=!0)},o(f){L(r.$$.fragment,f),L(o.$$.fragment,f),L(u.$$.fragment,f),_=!1},d(f){f&&v(t),f&&v(l),f&&v(n),N(r),N(o),N(u)}}}class _l extends K{constructor(t){super(),U(this,t,null,al,J,{})}}new _l({target:document.getElementById("app")});
