(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function l(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=l(r);fetch(r.href,s)}})();function k(){}function ye(e,t){for(const l in t)e[l]=t[l];return e}function _t(e){return e()}function Qe(){return Object.create(null)}function H(e){e.forEach(_t)}function dt(e){return typeof e=="function"}function J(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let me;function W(e,t){return me||(me=document.createElement("a")),me.href=t,e===me.href}function St(e){return Object.keys(e).length===0}function gt(e,...t){if(e==null)return k;const l=e.subscribe(...t);return l.unsubscribe?()=>l.unsubscribe():l}function ke(e){let t;return gt(e,l=>t=l)(),t}function T(e,t,l){e.$$.on_destroy.push(gt(t,l))}function Lt(e,t,l,n){if(e){const r=mt(e,t,l,n);return e[0](r)}}function mt(e,t,l,n){return e[1]&&n?ye(l.ctx.slice(),e[1](n(t))):l.ctx}function zt(e,t,l,n){if(e[2]&&n){const r=e[2](n(l));if(t.dirty===void 0)return r;if(typeof r=="object"){const s=[],o=Math.max(t.dirty.length,r.length);for(let i=0;i<o;i+=1)s[i]=t.dirty[i]|r[i];return s}return t.dirty|r}return t.dirty}function Et(e,t,l,n,r,s){if(r){const o=mt(t,l,n,s);e.p(o,r)}}function Ct(e){if(e.ctx.length>32){const t=[],l=e.ctx.length/32;for(let n=0;n<l;n++)t[n]=-1;return t}return-1}function Xe(e){const t={};for(const l in e)l[0]!=="$"&&(t[l]=e[l]);return t}function Ye(e){return e==null?"":e}function d(e,t){e.appendChild(t)}function y(e,t,l){e.insertBefore(t,l||null)}function v(e){e.parentNode.removeChild(e)}function Le(e,t){for(let l=0;l<e.length;l+=1)e[l]&&e[l].d(t)}function g(e){return document.createElement(e)}function re(e){return document.createTextNode(e)}function p(){return re(" ")}function At(){return re("")}function C(e,t,l,n){return e.addEventListener(t,l,n),()=>e.removeEventListener(t,l,n)}function Ae(e){return function(t){return t.preventDefault(),e.call(this,t)}}function f(e,t,l){l==null?e.removeAttribute(t):e.getAttribute(t)!==l&&e.setAttribute(t,l)}function Ze(e,t){const l=Object.getOwnPropertyDescriptors(e.__proto__);for(const n in t)t[n]==null?e.removeAttribute(n):n==="style"?e.style.cssText=t[n]:n==="__value"?e.value=e[n]=t[n]:l[n]&&l[n].set?e[n]=t[n]:f(e,n,t[n])}function It(e){return Array.from(e.childNodes)}function Oe(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function M(e,t,l){e.classList[l?"add":"remove"](t)}function Tt(e,t,{bubbles:l=!1,cancelable:n=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,l,n,t),r}let ae;function ce(e){ae=e}function jt(){if(!ae)throw new Error("Function called outside component initialization");return ae}function ht(){const e=jt();return(t,l,{cancelable:n=!1}={})=>{const r=e.$$.callbacks[t];if(r){const s=Tt(t,l,{cancelable:n});return r.slice().forEach(o=>{o.call(e,s)}),!s.defaultPrevented}return!0}}function pt(e,t){const l=e.$$.callbacks[t.type];l&&l.slice().forEach(n=>n.call(this,t))}const ue=[],we=[],pe=[],Te=[],Nt=Promise.resolve();let je=!1;function Ot(){je||(je=!0,Nt.then(vt))}function Ne(e){pe.push(e)}function xe(e){Te.push(e)}const Ie=new Set;let he=0;function vt(){const e=ae;do{for(;he<ue.length;){const t=ue[he];he++,ce(t),qt(t.$$)}for(ce(null),ue.length=0,he=0;we.length;)we.pop()();for(let t=0;t<pe.length;t+=1){const l=pe[t];Ie.has(l)||(Ie.add(l),l())}pe.length=0}while(ue.length);for(;Te.length;)Te.pop()();je=!1,Ie.clear(),ce(e)}function qt(e){if(e.fragment!==null){e.update(),H(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Ne)}}const ve=new Set;let G;function qe(){G={r:0,c:[],p:G}}function Pe(){G.r||H(G.c),G=G.p}function $(e,t){e&&e.i&&(ve.delete(e),e.i(t))}function L(e,t,l,n){if(e&&e.o){if(ve.has(e))return;ve.add(e),G.c.push(()=>{ve.delete(e),n&&(l&&e.d(1),n())}),e.o(t)}else n&&n()}function Pt(e,t){const l={},n={},r={$$scope:1};let s=e.length;for(;s--;){const o=e[s],i=t[s];if(i){for(const u in o)u in i||(n[u]=1);for(const u in i)r[u]||(l[u]=i[u],r[u]=1);e[s]=i}else for(const u in o)r[u]=1}for(const o in n)o in l||(l[o]=void 0);return l}function et(e,t,l){const n=e.$$.props[t];n!==void 0&&(e.$$.bound[n]=l,l(e.$$.ctx[n]))}function B(e){e&&e.c()}function j(e,t,l,n){const{fragment:r,after_update:s}=e.$$;r&&r.m(t,l),n||Ne(()=>{const o=e.$$.on_mount.map(_t).filter(dt);e.$$.on_destroy?e.$$.on_destroy.push(...o):H(o),e.$$.on_mount=[]}),s.forEach(Ne)}function N(e,t){const l=e.$$;l.fragment!==null&&(H(l.on_destroy),l.fragment&&l.fragment.d(t),l.on_destroy=l.fragment=null,l.ctx=[])}function Bt(e,t){e.$$.dirty[0]===-1&&(ue.push(e),Ot(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function U(e,t,l,n,r,s,o,i=[-1]){const u=ae;ce(e);const _=e.$$={fragment:null,ctx:[],props:s,update:k,not_equal:r,bound:Qe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:Qe(),dirty:i,skip_bound:!1,root:t.target||u.$$.root};o&&o(_.root);let a=!1;if(_.ctx=l?l(e,t.props||{},(c,m,...z)=>{const w=z.length?z[0]:m;return _.ctx&&r(_.ctx[c],_.ctx[c]=w)&&(!_.skip_bound&&_.bound[c]&&_.bound[c](w),a&&Bt(e,c)),m}):[],_.update(),a=!0,H(_.before_update),_.fragment=n?n(_.ctx):!1,t.target){if(t.hydrate){const c=It(t.target);_.fragment&&_.fragment.l(c),c.forEach(v)}else _.fragment&&_.fragment.c();t.intro&&$(e.$$.fragment),j(e,t.target,t.anchor,t.customElement),vt()}ce(u)}class K{$destroy(){N(this,1),this.$destroy=k}$on(t,l){if(!dt(l))return k;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(l),()=>{const r=n.indexOf(l);r!==-1&&n.splice(r,1)}}$set(t){this.$$set&&!St(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Dt(e){let t,l,n,r,s,o,i,u=[{type:e[3]},{name:e[2]},{id:e[2]},e[4],{value:e[0]}],_={};for(let a=0;a<u.length;a+=1)_=ye(_,u[a]);return{c(){t=g("div"),l=g("label"),n=re(e[1]),r=p(),s=g("input"),f(l,"for",e[2]),Ze(s,_)},m(a,c){y(a,t,c),d(t,l),d(l,n),d(t,r),d(t,s),s.value=_.value,s.autofocus&&s.focus(),o||(i=[C(s,"input",e[5]),C(s,"keypress",e[6])],o=!0)},p(a,[c]){c&2&&Oe(n,a[1]),c&4&&f(l,"for",a[2]),Ze(s,_=Pt(u,[c&8&&{type:a[3]},c&4&&{name:a[2]},c&4&&{id:a[2]},c&16&&a[4],c&1&&s.value!==a[0]&&{value:a[0]}])),"value"in _&&(s.value=_.value)},i:k,o:k,d(a){a&&v(t),o=!1,H(i)}}}function Mt(e,t,l){let{value:n=""}=t,{label:r="Input"}=t,{name:s="input"}=t,{type:o="text"}=t,{inputParams:i={}}=t;const u=ht(),_=c=>{l(0,n=c.target.value),(o==="number"||o==="range")&&l(0,n=Number(n)),u("input",n)};function a(c){pt.call(this,e,c)}return e.$$set=c=>{"value"in c&&l(0,n=c.value),"label"in c&&l(1,r=c.label),"name"in c&&l(2,s=c.name),"type"in c&&l(3,o=c.type),"inputParams"in c&&l(4,i=c.inputParams)},[n,r,s,o,i,_,a]}class tt extends K{constructor(t){super(),U(this,t,Mt,Dt,J,{value:0,label:1,name:2,type:3,inputParams:4})}}function Ht(e){let t,l,n,r,s,o,i,u;const _=e[4].default,a=Lt(_,e,e[3],null);return{c(){t=g("nav"),l=g("h2"),n=re(e[0]),r=p(),s=g("hr"),o=p(),a&&a.c(),f(l,"class","svelte-15oiif1"),f(s,"class","svelte-15oiif1"),f(t,"class",i=Ye(e[2].class)+" svelte-15oiif1"),M(t,"leftShadow",e[1]=="left"),M(t,"rightShadow",e[1]=="right")},m(c,m){y(c,t,m),d(t,l),d(l,n),d(t,r),d(t,s),d(t,o),a&&a.m(t,null),u=!0},p(c,[m]){(!u||m&1)&&Oe(n,c[0]),a&&a.p&&(!u||m&8)&&Et(a,_,c,c[3],u?zt(_,c[3],m,null):Ct(c[3]),null),(!u||m&4&&i!==(i=Ye(c[2].class)+" svelte-15oiif1"))&&f(t,"class",i),(!u||m&6)&&M(t,"leftShadow",c[1]=="left"),(!u||m&6)&&M(t,"rightShadow",c[1]=="right")},i(c){u||($(a,c),u=!0)},o(c){L(a,c),u=!1},d(c){c&&v(t),a&&a.d(c)}}}function Jt(e,t,l){let{$$slots:n={},$$scope:r}=t,{title:s="Undefined"}=t,{shadow:o="left"}=t;return e.$$set=i=>{l(2,t=ye(ye({},t),Xe(i))),"title"in i&&l(0,s=i.title),"shadow"in i&&l(1,o=i.shadow),"$$scope"in i&&l(3,r=i.$$scope)},t=Xe(t),[s,o,t,r,n]}class bt extends K{constructor(t){super(),U(this,t,Jt,Ht,J,{title:0,shadow:1})}}const le=[];function de(e,t=k){let l;const n=new Set;function r(i){if(J(e,i)&&(e=i,l)){const u=!le.length;for(const _ of n)_[1](),le.push(_,e);if(u){for(let _=0;_<le.length;_+=2)le[_][0](le[_+1]);le.length=0}}}function s(i){r(i(e))}function o(i,u=k){const _=[i,u];return n.add(_),n.size===1&&(l=t(r)||k),i(e),()=>{n.delete(_),n.size===0&&(l(),l=null)}}return{set:r,update:s,subscribe:o}}const $e=de(-1);function yt(e,t,l){const{subscribe:n,set:r,update:s}=de(e);return{subscribe:n,set(o){o<t?o=t:o>l&&(o=l),r(o)},update(o){s(i=>(i=o(i),i<t?i=t:i>l&&(i=l),i))}}}const fe=yt(10,1,50),_e=yt(10,1,50);function Rt(){const{subscribe:e,set:t,update:l}=de(new Array);return{subscribe:e,set:t,addLevel(){l(n=>[...n,Array.from({length:ke(_e)},r=>Array(ke(fe)).fill(-1))])},pushLevel(n){l(r=>[...r,n])},removeLevel(n){l(r=>r.filter((s,o)=>o!==n))},setLevelCell(n,r,s,o){console.log("setLevelCell",n,r,s,o),l(i=>(i[n][r][s]=o,i))},resize(n,r){l(s=>s.map(o=>{let i=o.map(u=>u.length>=n?u.slice(0,n):[...u,...Array(n-u.length).fill(-1)]);return i.length>=r?i.slice(0,r):[...i,...Array.from({length:r-i.length},u=>Array(n).fill(-1))]}))},reset(){l(n=>new Array)}}}const O=Rt(),lt=localStorage.getItem("levels");if(lt){const e=JSON.parse(lt);O.set(e.levels),fe.set(e.width),_e.set(e.height)}O.subscribe(e=>{localStorage.setItem("levels",JSON.stringify({width:ke(fe),height:ke(_e),levels:e}))});const ne=de(Array()),nt=localStorage.getItem("images");nt&&ne.set(JSON.parse(nt));ne.subscribe(e=>{localStorage.setItem("images",JSON.stringify(e))});const be=de(0),Ft="/assets/trash.8b6cb216.svg";function rt(e,t,l){const n=e.slice();return n[15]=t[l],n[17]=l,n}function st(e){let t,l,n,r,s,o,i,u,_;return{c(){t=g("li"),l=g("input"),n=p(),r=g("label"),s=g("img"),f(l,"type","radio"),f(l,"name","tile"+e[17]),f(l,"id","tile"+e[17]),l.__value=e[17],l.value=l.__value,f(l,"class","svelte-17mgxwz"),e[12][0].push(l),W(s.src,o=e[15].data)||f(s,"src",o),f(s,"alt",i=e[15].name),f(s,"class","svelte-17mgxwz"),f(r,"for","tile"+e[17]),f(r,"class","svelte-17mgxwz"),M(r,"current",e[3]==e[17]),f(t,"class","tileSelector__itemList__tile svelte-17mgxwz")},m(a,c){y(a,t,c),d(t,l),l.checked=l.__value===e[3],d(t,n),d(t,r),d(r,s),u||(_=C(l,"change",e[13]),u=!0)},p(a,c){c&8&&(l.checked=l.__value===a[3]),c&16&&!W(s.src,o=a[15].data)&&f(s,"src",o),c&16&&i!==(i=a[15].name)&&f(s,"alt",i),c&8&&M(r,"current",a[3]==a[17])},d(a){a&&v(t),e[12][0].splice(e[12][0].indexOf(l),1),u=!1,_()}}}function Gt(e){let t,l,n,r,s,o,i,u,_,a,c,m,z,w,se,ge,I,b,V,R,Be,Q,ie,De,ze,Me,q,X,S,He,F,Y,Je,Re,Ee,Z,D,Fe,oe,x,Ce,Ge;function wt(h){e[9](h)}let We={label:"Width:",name:"width",type:"number",inputParams:{min:0,max:100,step:1}};e[2]!==void 0&&(We.value=e[2]),w=new tt({props:We}),we.push(()=>et(w,"value",wt)),w.$on("keypress",e[6]);function $t(h){e[10](h)}let Ue={label:"Height:",name:"height",type:"number",inputParams:{min:0,max:100,step:1}};e[1]!==void 0&&(Ue.value=e[1]),I=new tt({props:Ue}),we.push(()=>et(I,"value",$t)),I.$on("keypress",e[6]);let ee=e[4],E=[];for(let h=0;h<ee.length;h+=1)E[h]=st(rt(e,ee,h));return{c(){t=g("form"),l=g("div"),n=g("h3"),n.textContent="Project Manager",r=p(),s=g("button"),s.textContent="Import level set",o=p(),i=g("button"),i.textContent="Export level set",u=p(),_=g("button"),_.textContent="Delete current project",a=p(),c=g("div"),m=g("h3"),m.textContent="Grid Size",z=p(),B(w.$$.fragment),ge=p(),B(I.$$.fragment),V=p(),R=g("button"),R.textContent="Resize",Be=p(),Q=g("div"),ie=g("h3"),De=re("Tile selector : "),ze=re(e[3]),Me=p(),q=g("ul"),X=g("li"),S=g("input"),He=p(),F=g("label"),Y=g("img"),Re=p();for(let h=0;h<E.length;h+=1)E[h].c();Ee=p(),Z=g("li"),D=g("input"),Fe=p(),oe=g("label"),oe.textContent="+",f(n,"class","svelte-17mgxwz"),f(s,"class","svelte-17mgxwz"),f(i,"class","svelte-17mgxwz"),f(_,"class","warn svelte-17mgxwz"),f(l,"class","fileManager svelte-17mgxwz"),f(m,"class","svelte-17mgxwz"),f(R,"class","svelte-17mgxwz"),f(c,"class","gridSize svelte-17mgxwz"),f(ie,"class","svelte-17mgxwz"),f(S,"type","radio"),f(S,"name","tileEraser"),f(S,"id","tileEraser"),S.__value=-1,S.value=S.__value,f(S,"class","svelte-17mgxwz"),e[12][0].push(S),W(Y.src,Je=Ft)||f(Y,"src",Je),f(Y,"alt","Empty tile"),f(Y,"class","svelte-17mgxwz"),f(F,"for","tileEraser"),f(F,"class","noBg svelte-17mgxwz"),M(F,"current",e[3]==-1),f(X,"class","tileSelector__itemList__tile svelte-17mgxwz"),f(D,"type","file"),f(D,"id","newTileButton"),f(D,"accept","*.png, *.jpg, *.jpeg"),f(D,"class","svelte-17mgxwz"),f(oe,"for","newTileButton"),f(oe,"class","noBg svelte-17mgxwz"),f(Z,"class","tileSelector__itemList__tile svelte-17mgxwz"),f(q,"class","tileSelector__itemList svelte-17mgxwz"),f(Q,"class","tileSelector"),f(t,"class","svelte-17mgxwz")},m(h,P){y(h,t,P),d(t,l),d(l,n),d(l,r),d(l,s),d(l,o),d(l,i),d(l,u),d(l,_),d(t,a),d(t,c),d(c,m),d(c,z),j(w,c,null),d(c,ge),j(I,c,null),d(c,V),d(c,R),d(t,Be),d(t,Q),d(Q,ie),d(ie,De),d(ie,ze),d(Q,Me),d(Q,q),d(q,X),d(X,S),S.checked=S.__value===e[3],d(X,He),d(X,F),d(F,Y),d(q,Re);for(let te=0;te<E.length;te+=1)E[te].m(q,null);d(q,Ee),d(q,Z),d(Z,D),d(Z,Fe),d(Z,oe),x=!0,Ce||(Ge=[C(_,"click",Ae(e[8])),C(R,"click",Ae(e[7])),C(S,"change",e[11]),C(D,"change",e[14]),C(D,"change",Ae(e[5]))],Ce=!0)},p(h,P){const te={};!se&&P&4&&(se=!0,te.value=h[2],xe(()=>se=!1)),w.$set(te);const Ke={};if(!b&&P&2&&(b=!0,Ke.value=h[1],xe(()=>b=!1)),I.$set(Ke),(!x||P&8)&&Oe(ze,h[3]),P&8&&(S.checked=S.__value===h[3]),(!x||P&8)&&M(F,"current",h[3]==-1),P&24){ee=h[4];let A;for(A=0;A<ee.length;A+=1){const Ve=rt(h,ee,A);E[A]?E[A].p(Ve,P):(E[A]=st(Ve),E[A].c(),E[A].m(q,Ee))}for(;A<E.length;A+=1)E[A].d(1);E.length=ee.length}},i(h){x||($(w.$$.fragment,h),$(I.$$.fragment,h),x=!0)},o(h){L(w.$$.fragment,h),L(I.$$.fragment,h),x=!1},d(h){h&&v(t),N(w),N(I),e[12][0].splice(e[12][0].indexOf(S),1),Le(E,h),Ce=!1,H(Ge)}}}function Wt(e){let t,l;return t=new bt({props:{title:"Configuration",shadow:"right",$$slots:{default:[Gt]},$$scope:{ctx:e}}}),{c(){B(t.$$.fragment)},m(n,r){j(t,n,r),l=!0},p(n,[r]){const s={};r&262175&&(s.$$scope={dirty:r,ctx:n}),t.$set(s)},i(n){l||($(t.$$.fragment,n),l=!0)},o(n){L(t.$$.fragment,n),l=!1},d(n){N(t,n)}}}function Ut(e,t,l){let n,r,s,o;T(e,_e,b=>l(1,n=b)),T(e,fe,b=>l(2,r=b)),T(e,be,b=>l(3,s=b)),T(e,ne,b=>l(4,o=b));let i=null;const u=()=>{let b=i[0],V=new FileReader;V.onload=()=>{ne.update(R=>[...R,{name:b.name,data:V.result}])},V.readAsDataURL(b)},_=b=>{b.key==="Enter"&&(a(),b.preventDefault())},a=()=>{O.resize(r,n)},c=()=>{confirm("Are you sure you want to delete this project?")&&(O.reset(),ne.set([]))},m=[[]];function z(b){r=b,fe.set(r)}function w(b){n=b,_e.set(n)}function se(){s=this.__value,be.set(s)}function ge(){s=this.__value,be.set(s)}function I(){i=this.files,l(0,i)}return[i,n,r,s,o,u,_,a,c,z,w,se,m,ge,I]}class Kt extends K{constructor(t){super(),U(this,t,Ut,Wt,J,{})}}const Se="/assets/empty.9d6257ea.svg";function it(e,t,l){const n=e.slice();return n[8]=t[l],n[10]=l,n}function ot(e,t,l){const n=e.slice();return n[11]=t[l],n[13]=l,n}function Vt(e){let t,l,n,r,s;return{c(){t=g("img"),f(t,"class","grid__row__cell non-interactive svelte-qvhjhd"),W(t.src,l=e[11]==-1?Se:e[3][e[11]].data)||f(t,"src",l),f(t,"alt",n=e[11]==-1?"Empty cell":e[3][e[11]].name)},m(o,i){y(o,t,i),r||(s=C(t,"drag",Yt),r=!0)},p(o,i){i&13&&!W(t.src,l=o[11]==-1?Se:o[3][o[11]].data)&&f(t,"src",l),i&13&&n!==(n=o[11]==-1?"Empty cell":o[3][o[11]].name)&&f(t,"alt",n)},d(o){o&&v(t),r=!1,s()}}}function Qt(e){let t,l,n,r,s;function o(){return e[6](e[10],e[13])}return{c(){t=g("img"),f(t,"class","grid__row__cell svelte-qvhjhd"),W(t.src,l=e[11]==-1?Se:e[3][e[11]].data)||f(t,"src",l),f(t,"alt",n=e[11]==-1?"Empty cell":e[3][e[11]].name)},m(i,u){y(i,t,u),r||(s=[C(t,"click",o),C(t,"keydown",e[5])],r=!0)},p(i,u){e=i,u&13&&!W(t.src,l=e[11]==-1?Se:e[3][e[11]].data)&&f(t,"src",l),u&13&&n!==(n=e[11]==-1?"Empty cell":e[3][e[11]].name)&&f(t,"alt",n)},d(i){i&&v(t),r=!1,H(s)}}}function ut(e){let t;function l(s,o){return s[1]?Qt:Vt}let n=l(e),r=n(e);return{c(){r.c(),t=At()},m(s,o){r.m(s,o),y(s,t,o)},p(s,o){n===(n=l(s))&&r?r.p(s,o):(r.d(1),r=n(s),r&&(r.c(),r.m(t.parentNode,t)))},d(s){r.d(s),s&&v(t)}}}function ct(e){let t,l,n=e[8],r=[];for(let s=0;s<n.length;s+=1)r[s]=ut(ot(e,n,s));return{c(){t=g("div");for(let s=0;s<r.length;s+=1)r[s].c();l=p(),f(t,"class","grid__row svelte-qvhjhd")},m(s,o){y(s,t,o);for(let i=0;i<r.length;i+=1)r[i].m(t,null);d(t,l)},p(s,o){if(o&31){n=s[8];let i;for(i=0;i<n.length;i+=1){const u=ot(s,n,i);r[i]?r[i].p(u,o):(r[i]=ut(u),r[i].c(),r[i].m(t,l))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(s){s&&v(t),Le(r,s)}}}function Xt(e){let t,l,n=e[2][e[0]],r=[];for(let s=0;s<n.length;s+=1)r[s]=ct(it(e,n,s));return{c(){t=g("div");for(let s=0;s<r.length;s+=1)r[s].c();f(t,"class","grid svelte-qvhjhd"),f(t,"id",l=String(e[0]))},m(s,o){y(s,t,o);for(let i=0;i<r.length;i+=1)r[i].m(t,null)},p(s,[o]){if(o&31){n=s[2][s[0]];let i;for(i=0;i<n.length;i+=1){const u=it(s,n,i);r[i]?r[i].p(u,o):(r[i]=ct(u),r[i].c(),r[i].m(t,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}o&1&&l!==(l=String(s[0]))&&f(t,"id",l)},i:k,o:k,d(s){s&&v(t),Le(r,s)}}}const Yt=e=>!1;function Zt(e,t,l){let n,r;T(e,O,c=>l(2,n=c)),T(e,ne,c=>l(3,r=c));let{gridId:s}=t,{interactive:o=!1}=t;const i=ht(),u=(c,m)=>{console.log(c,m),i("click",{x:c,y:m})};function _(c){pt.call(this,e,c)}const a=(c,m)=>{u(c,m)};return e.$$set=c=>{"gridId"in c&&l(0,s=c.gridId),"interactive"in c&&l(1,o=c.interactive)},[s,o,n,r,u,_,a]}class kt extends K{constructor(t){super(),U(this,t,Zt,Xt,J,{gridId:0,interactive:1})}}function xt(e){let t;return{c(){t=g("p"),t.textContent="There is currently no level selected.",f(t,"class","center svelte-17g97ar")},m(l,n){y(l,t,n)},p:k,i:k,o:k,d(l){l&&v(t)}}}function el(e){let t,l,n,r,s,o;return{c(){t=g("div"),l=g("p"),l.textContent="There is currently no levels.",n=p(),r=g("button"),r.textContent="Add a new level",f(t,"class","center svelte-17g97ar")},m(i,u){y(i,t,u),d(t,l),d(t,n),d(t,r),s||(o=C(r,"click",e[2]),s=!0)},p:k,i:k,o:k,d(i){i&&v(t),s=!1,o()}}}function tl(e){let t,l,n;return l=new kt({props:{gridId:e[0],interactive:!0}}),l.$on("click",e[3]),{c(){t=g("div"),B(l.$$.fragment),f(t,"class","editor__gridContener svelte-17g97ar")},m(r,s){y(r,t,s),j(l,t,null),n=!0},p(r,s){const o={};s&1&&(o.gridId=r[0]),l.$set(o)},i(r){n||($(l.$$.fragment,r),n=!0)},o(r){L(l.$$.fragment,r),n=!1},d(r){r&&v(t),N(l)}}}function ll(e){let t,l,n,r;const s=[tl,el,xt],o=[];function i(u,_){return u[0]!=-1&&u[1].length>0?0:u[1].length==0?1:2}return l=i(e),n=o[l]=s[l](e),{c(){t=g("section"),n.c(),f(t,"class","editor svelte-17g97ar")},m(u,_){y(u,t,_),o[l].m(t,null),r=!0},p(u,[_]){let a=l;l=i(u),l===a?o[l].p(u,_):(qe(),L(o[a],1,1,()=>{o[a]=null}),Pe(),n=o[l],n?n.p(u,_):(n=o[l]=s[l](u),n.c()),$(n,1),n.m(t,null))},i(u){r||($(n),r=!0)},o(u){L(n),r=!1},d(u){u&&v(t),o[l].d()}}}function nl(e,t,l){let n,r,s;return T(e,be,u=>l(4,n=u)),T(e,$e,u=>l(0,r=u)),T(e,O,u=>l(1,s=u)),[r,s,()=>{O.addLevel(),$e.set(s.length-1)},u=>{console.log(n),O.setLevelCell(r,u.detail.x,u.detail.y,n)}]}class rl extends K{constructor(t){super(),U(this,t,nl,ll,J,{})}}function at(e,t,l){const n=e.slice();return n[5]=t[l],n[7]=l,n}function sl(e){let t;return{c(){t=g("p"),t.textContent="There is currently no levels."},m(l,n){y(l,t,n)},p:k,i:k,o:k,d(l){l&&v(t)}}}function il(e){let t,l,n=e[0],r=[];for(let o=0;o<n.length;o+=1)r[o]=ft(at(e,n,o));const s=o=>L(r[o],1,1,()=>{r[o]=null});return{c(){t=g("ul");for(let o=0;o<r.length;o+=1)r[o].c();f(t,"class","levelList__list svelte-ynwbqm")},m(o,i){y(o,t,i);for(let u=0;u<r.length;u+=1)r[u].m(t,null);l=!0},p(o,i){if(i&3){n=o[0];let u;for(u=0;u<n.length;u+=1){const _=at(o,n,u);r[u]?(r[u].p(_,i),$(r[u],1)):(r[u]=ft(_),r[u].c(),$(r[u],1),r[u].m(t,null))}for(qe(),u=n.length;u<r.length;u+=1)s(u);Pe()}},i(o){if(!l){for(let i=0;i<n.length;i+=1)$(r[i]);l=!0}},o(o){r=r.filter(Boolean);for(let i=0;i<r.length;i+=1)L(r[i]);l=!1},d(o){o&&v(t),Le(r,o)}}}function ft(e){let t,l,n,r,s,o,i,u,_;return s=new kt({props:{gridId:e[7],interactive:!1}}),{c(){t=g("li"),l=g("input"),n=p(),r=g("label"),B(s.$$.fragment),o=p(),f(l,"type","radio"),f(l,"name","level"),f(l,"id","level-"+e[7]),l.__value=e[7],l.value=l.__value,f(l,"class","svelte-ynwbqm"),e[4][0].push(l),f(r,"class","levelList__list__grid svelte-ynwbqm"),f(r,"for","level-"+e[7]),f(t,"class","svelte-ynwbqm")},m(a,c){y(a,t,c),d(t,l),l.checked=l.__value===e[1],d(t,n),d(t,r),j(s,r,null),d(t,o),i=!0,u||(_=C(l,"change",e[3]),u=!0)},p(a,c){c&2&&(l.checked=l.__value===a[1])},i(a){i||($(s.$$.fragment,a),i=!0)},o(a){L(s.$$.fragment,a),i=!1},d(a){a&&v(t),e[4][0].splice(e[4][0].indexOf(l),1),N(s),u=!1,_()}}}function ol(e){let t,l,n,r,s,o,i,u;const _=[il,sl],a=[];function c(m,z){return m[0].length!=0?0:1}return r=c(e),s=a[r]=_[r](e),{c(){t=g("button"),t.textContent="Add a new level",l=p(),n=g("div"),s.c(),f(t,"class","svelte-ynwbqm"),f(n,"class","levelList svelte-ynwbqm")},m(m,z){y(m,t,z),y(m,l,z),y(m,n,z),a[r].m(n,null),o=!0,i||(u=C(t,"click",e[2]),i=!0)},p(m,z){let w=r;r=c(m),r===w?a[r].p(m,z):(qe(),L(a[w],1,1,()=>{a[w]=null}),Pe(),s=a[r],s?s.p(m,z):(s=a[r]=_[r](m),s.c()),$(s,1),s.m(n,null))},i(m){o||($(s),o=!0)},o(m){L(s),o=!1},d(m){m&&v(t),m&&v(l),m&&v(n),a[r].d(),i=!1,u()}}}function ul(e){let t,l;return t=new bt({props:{title:"Level Selector",shadow:"left",$$slots:{default:[ol]},$$scope:{ctx:e}}}),{c(){B(t.$$.fragment)},m(n,r){j(t,n,r),l=!0},p(n,[r]){const s={};r&259&&(s.$$scope={dirty:r,ctx:n}),t.$set(s)},i(n){l||($(t.$$.fragment,n),l=!0)},o(n){L(t.$$.fragment,n),l=!1},d(n){N(t,n)}}}function cl(e,t,l){let n,r;T(e,O,u=>l(0,n=u)),T(e,$e,u=>l(1,r=u));const s=u=>{O.addLevel()},o=[[]];function i(){r=this.__value,$e.set(r)}return[n,r,s,i,o]}class al extends K{constructor(t){super(),U(this,t,cl,ul,J,{})}}function fl(e){let t,l,n,r,s,o,i,u,_;return r=new Kt({}),o=new rl({}),u=new al({}),{c(){t=g("header"),t.innerHTML="<h1>Vivian level Editor</h1>",l=p(),n=g("main"),B(r.$$.fragment),s=p(),B(o.$$.fragment),i=p(),B(u.$$.fragment),f(n,"class","svelte-1fszlhy")},m(a,c){y(a,t,c),y(a,l,c),y(a,n,c),j(r,n,null),d(n,s),j(o,n,null),d(n,i),j(u,n,null),_=!0},p:k,i(a){_||($(r.$$.fragment,a),$(o.$$.fragment,a),$(u.$$.fragment,a),_=!0)},o(a){L(r.$$.fragment,a),L(o.$$.fragment,a),L(u.$$.fragment,a),_=!1},d(a){a&&v(t),a&&v(l),a&&v(n),N(r),N(o),N(u)}}}class _l extends K{constructor(t){super(),U(this,t,null,fl,J,{})}}new _l({target:document.getElementById("app")});
