(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function y(){}function we(e,t){for(const n in t)e[n]=t[n];return e}function ot(e){return e()}function Ye(){return Object.create(null)}function H(e){e.forEach(ot)}function ut(e){return typeof e=="function"}function J(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let me;function Te(e,t){return me||(me=document.createElement("a")),me.href=t,e===me.href}function bt(e){return Object.keys(e).length===0}function ct(e,...t){if(e==null)return y;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function ke(e){let t;return ct(e,n=>t=n)(),t}function j(e,t,n){e.$$.on_destroy.push(ct(t,n))}function yt(e,t,n,l){if(e){const r=at(e,t,n,l);return e[0](r)}}function at(e,t,n,l){return e[1]&&l?we(n.ctx.slice(),e[1](l(t))):n.ctx}function wt(e,t,n,l){if(e[2]&&l){const r=e[2](l(n));if(t.dirty===void 0)return r;if(typeof r=="object"){const s=[],o=Math.max(t.dirty.length,r.length);for(let u=0;u<o;u+=1)s[u]=t.dirty[u]|r[u];return s}return t.dirty|r}return t.dirty}function kt(e,t,n,l,r,s){if(r){const o=at(t,n,l,s);e.p(o,r)}}function $t(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let l=0;l<n;l++)t[l]=-1;return t}return-1}function Ke(e){const t={};for(const n in e)n[0]!=="$"&&(t[n]=e[n]);return t}function Ve(e){return e==null?"":e}function _(e,t){e.appendChild(t)}function S(e,t,n){e.insertBefore(t,n||null)}function k(e){e.parentNode.removeChild(e)}function ft(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function g(e){return document.createElement(e)}function ce(e){return document.createTextNode(e)}function b(){return ce(" ")}function T(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function Ee(e){return function(t){return t.preventDefault(),e.call(this,t)}}function d(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Qe(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const l in t)t[l]==null?e.removeAttribute(l):l==="style"?e.style.cssText=t[l]:l==="__value"?e.value=e[l]=t[l]:n[l]&&n[l].set?e[l]=t[l]:d(e,l,t[l])}function St(e){return Array.from(e.childNodes)}function Oe(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function G(e,t,n){e.classList[n?"add":"remove"](t)}function zt(e,t,{bubbles:n=!1,cancelable:l=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n,l,t),r}let ae;function ue(e){ae=e}function Ne(){if(!ae)throw new Error("Function called outside component initialization");return ae}function Lt(e){Ne().$$.on_mount.push(e)}function Et(e){Ne().$$.after_update.push(e)}function dt(){const e=Ne();return(t,n,{cancelable:l=!1}={})=>{const r=e.$$.callbacks[t];if(r){const s=zt(t,n,{cancelable:l});return r.slice().forEach(o=>{o.call(e,s)}),!s.defaultPrevented}return!0}}function Ct(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(l=>l.call(this,t))}const oe=[],fe=[],ve=[],Ae=[],Tt=Promise.resolve();let Ie=!1;function At(){Ie||(Ie=!0,Tt.then(_t))}function je(e){ve.push(e)}function Ze(e){Ae.push(e)}const Ce=new Set;let pe=0;function _t(){const e=ae;do{for(;pe<oe.length;){const t=oe[pe];pe++,ue(t),It(t.$$)}for(ue(null),oe.length=0,pe=0;fe.length;)fe.pop()();for(let t=0;t<ve.length;t+=1){const n=ve[t];Ce.has(n)||(Ce.add(n),n())}ve.length=0}while(oe.length);for(;Ae.length;)Ae.pop()();Ie=!1,Ce.clear(),ue(e)}function It(e){if(e.fragment!==null){e.update(),H(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(je)}}const be=new Set;let U;function Pe(){U={r:0,c:[],p:U}}function qe(){U.r||H(U.c),U=U.p}function z(e,t){e&&e.i&&(be.delete(e),e.i(t))}function E(e,t,n,l){if(e&&e.o){if(be.has(e))return;be.add(e),U.c.push(()=>{be.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}else l&&l()}function jt(e,t){const n={},l={},r={$$scope:1};let s=e.length;for(;s--;){const o=e[s],u=t[s];if(u){for(const i in o)i in u||(l[i]=1);for(const i in u)r[i]||(n[i]=u[i],r[i]=1);e[s]=u}else for(const i in o)r[i]=1}for(const o in l)o in n||(n[o]=void 0);return n}function xe(e,t,n){const l=e.$$.props[t];l!==void 0&&(e.$$.bound[l]=n,n(e.$$.ctx[l]))}function D(e){e&&e.c()}function O(e,t,n,l){const{fragment:r,after_update:s}=e.$$;r&&r.m(t,n),l||je(()=>{const o=e.$$.on_mount.map(ot).filter(ut);e.$$.on_destroy?e.$$.on_destroy.push(...o):H(o),e.$$.on_mount=[]}),s.forEach(je)}function N(e,t){const n=e.$$;n.fragment!==null&&(H(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ot(e,t){e.$$.dirty[0]===-1&&(oe.push(e),At(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function X(e,t,n,l,r,s,o,u=[-1]){const i=ae;ue(e);const c=e.$$={fragment:null,ctx:[],props:s,update:y,not_equal:r,bound:Ye(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(i?i.$$.context:[])),callbacks:Ye(),dirty:u,skip_bound:!1,root:t.target||i.$$.root};o&&o(c.root);let a=!1;if(c.ctx=n?n(e,t.props||{},(f,m,...$)=>{const w=$.length?$[0]:m;return c.ctx&&r(c.ctx[f],c.ctx[f]=w)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](w),a&&Ot(e,f)),m}):[],c.update(),a=!0,H(c.before_update),c.fragment=l?l(c.ctx):!1,t.target){if(t.hydrate){const f=St(t.target);c.fragment&&c.fragment.l(f),f.forEach(k)}else c.fragment&&c.fragment.c();t.intro&&z(e.$$.fragment),O(e,t.target,t.anchor,t.customElement),_t()}ue(i)}class Y{$destroy(){N(this,1),this.$destroy=y}$on(t,n){if(!ut(n))return y;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const r=l.indexOf(n);r!==-1&&l.splice(r,1)}}$set(t){this.$$set&&!bt(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Nt(e){let t,n,l,r,s,o,u,i=[{type:e[3]},{name:e[2]},{id:e[2]},e[4],{value:e[0]}],c={};for(let a=0;a<i.length;a+=1)c=we(c,i[a]);return{c(){t=g("div"),n=g("label"),l=ce(e[1]),r=b(),s=g("input"),d(n,"for",e[2]),Qe(s,c)},m(a,f){S(a,t,f),_(t,n),_(n,l),_(t,r),_(t,s),s.value=c.value,s.autofocus&&s.focus(),o||(u=[T(s,"input",e[5]),T(s,"keypress",e[6])],o=!0)},p(a,[f]){f&2&&Oe(l,a[1]),f&4&&d(n,"for",a[2]),Qe(s,c=jt(i,[f&8&&{type:a[3]},f&4&&{name:a[2]},f&4&&{id:a[2]},f&16&&a[4],f&1&&s.value!==a[0]&&{value:a[0]}])),"value"in c&&(s.value=c.value)},i:y,o:y,d(a){a&&k(t),o=!1,H(u)}}}function Pt(e,t,n){let{value:l=""}=t,{label:r="Input"}=t,{name:s="input"}=t,{type:o="text"}=t,{inputParams:u={}}=t;const i=dt(),c=f=>{n(0,l=f.target.value),(o==="number"||o==="range")&&n(0,l=Number(l)),i("input",l)};function a(f){Ct.call(this,e,f)}return e.$$set=f=>{"value"in f&&n(0,l=f.value),"label"in f&&n(1,r=f.label),"name"in f&&n(2,s=f.name),"type"in f&&n(3,o=f.type),"inputParams"in f&&n(4,u=f.inputParams)},[l,r,s,o,u,c,a]}class et extends Y{constructor(t){super(),X(this,t,Pt,Nt,J,{value:0,label:1,name:2,type:3,inputParams:4})}}function qt(e){let t,n,l,r,s,o,u,i;const c=e[4].default,a=yt(c,e,e[3],null);return{c(){t=g("nav"),n=g("h2"),l=ce(e[0]),r=b(),s=g("hr"),o=b(),a&&a.c(),d(n,"class","svelte-15oiif1"),d(s,"class","svelte-15oiif1"),d(t,"class",u=Ve(e[2].class)+" svelte-15oiif1"),G(t,"leftShadow",e[1]=="left"),G(t,"rightShadow",e[1]=="right")},m(f,m){S(f,t,m),_(t,n),_(n,l),_(t,r),_(t,s),_(t,o),a&&a.m(t,null),i=!0},p(f,[m]){(!i||m&1)&&Oe(l,f[0]),a&&a.p&&(!i||m&8)&&kt(a,c,f,f[3],i?wt(c,f[3],m,null):$t(f[3]),null),(!i||m&4&&u!==(u=Ve(f[2].class)+" svelte-15oiif1"))&&d(t,"class",u),(!i||m&6)&&G(t,"leftShadow",f[1]=="left"),(!i||m&6)&&G(t,"rightShadow",f[1]=="right")},i(f){i||(z(a,f),i=!0)},o(f){E(a,f),i=!1},d(f){f&&k(t),a&&a.d(f)}}}function Mt(e,t,n){let{$$slots:l={},$$scope:r}=t,{title:s="Undefined"}=t,{shadow:o="left"}=t;return e.$$set=u=>{n(2,t=we(we({},t),Ke(u))),"title"in u&&n(0,s=u.title),"shadow"in u&&n(1,o=u.shadow),"$$scope"in u&&n(3,r=u.$$scope)},t=Ke(t),[s,o,t,r,l]}class gt extends Y{constructor(t){super(),X(this,t,Mt,qt,J,{title:0,shadow:1})}}const le=[];function ge(e,t=y){let n;const l=new Set;function r(u){if(J(e,u)&&(e=u,n)){const i=!le.length;for(const c of l)c[1](),le.push(c,e);if(i){for(let c=0;c<le.length;c+=2)le[c][0](le[c+1]);le.length=0}}}function s(u){r(u(e))}function o(u,i=y){const c=[u,i];return l.add(c),l.size===1&&(n=t(r)||y),u(e),()=>{l.delete(c),l.size===0&&(n(),n=null)}}return{set:r,update:s,subscribe:o}}const $e=ge(-1);function ht(e,t,n){const{subscribe:l,set:r,update:s}=ge(e);return{subscribe:l,set(o){o<t?o=t:o>n&&(o=n),r(o)},update(o){s(u=>(u=o(u),u<t?u=t:u>n&&(u=n),u))}}}const de=ht(10,1,50),_e=ht(10,1,50);function Bt(){const{subscribe:e,set:t,update:n}=ge(new Array);return{subscribe:e,set:t,addLevel(){n(l=>[...l,Array.from({length:ke(_e)},r=>Array(ke(de)).fill(-1))])},pushLevel(l){n(r=>[...r,l])},removeLevel(l){n(r=>r.filter((s,o)=>o!==l))},setLevelCell(l,r,s,o){n(u=>(u[l][s][r]=o,u))},resize(l,r){n(s=>s.map(o=>{const u=o.map(i=>i.length>=l?i.slice(0,l):[...i,...Array(l-i.length).fill(-1)]);return u.length>=r?u.slice(0,r):[...u,...Array.from({length:r-u.length},i=>Array(l).fill(-1))]}))},reset(){n(l=>new Array)}}}const P=Bt(),tt=localStorage.getItem("levels");if(tt){const e=JSON.parse(tt);P.set(e.levels),de.set(e.width),_e.set(e.height)}P.subscribe(e=>{localStorage.setItem("levels",JSON.stringify({width:ke(de),height:ke(_e),levels:e}))});const re=ge(Array()),nt=localStorage.getItem("images");if(nt){const e=JSON.parse(nt);re.update(t=>[...t,...e.map(n=>{const l=new Image;return l.src=n.data,{name:n.name,data:l}})])}re.subscribe(e=>{localStorage.setItem("images",JSON.stringify(e.map(t=>({name:t.name,data:t.data.src}))))});const ye=ge(0),Dt="/Vivian-level-editor/assets/trash.8b6cb216.svg";function lt(e,t,n){const l=e.slice();return l[15]=t[n],l[17]=n,l}function rt(e){let t,n,l,r,s,o,u,i,c;return{c(){t=g("li"),n=g("input"),l=b(),r=g("label"),s=g("img"),d(n,"type","radio"),d(n,"name","tile"+String(e[17])),d(n,"id","tile"+String(e[17])),n.__value=e[17],n.value=n.__value,d(n,"class","svelte-17mgxwz"),e[12][0].push(n),Te(s.src,o=e[15].data.src)||d(s,"src",o),d(s,"alt",u=e[15].name),d(s,"class","svelte-17mgxwz"),d(r,"for","tile"+String(e[17])),d(r,"class","svelte-17mgxwz"),G(r,"current",e[3]==e[17]),d(t,"class","tileSelector__itemList__tile svelte-17mgxwz")},m(a,f){S(a,t,f),_(t,n),n.checked=n.__value===e[3],_(t,l),_(t,r),_(r,s),i||(c=T(n,"change",e[13]),i=!0)},p(a,f){f&8&&(n.checked=n.__value===a[3]),f&16&&!Te(s.src,o=a[15].data.src)&&d(s,"src",o),f&16&&u!==(u=a[15].name)&&d(s,"alt",u),f&8&&G(r,"current",a[3]==a[17])},d(a){a&&k(t),e[12][0].splice(e[12][0].indexOf(n),1),i=!1,c()}}}function Rt(e){let t,n,l,r,s,o,u,i,c,a,f,m,$,w,W,K,h,v,q,A,he,V,se,Me,Se,Be,M,Q,L,De,F,Z,Re,Ge,ze,x,R,He,ie,ee,Le,Je;function pt(p){e[9](p)}let We={label:"Width:",name:"width",type:"number",inputParams:{min:0,max:100,step:1}};e[2]!==void 0&&(We.value=e[2]),w=new et({props:We}),fe.push(()=>xe(w,"value",pt)),w.$on("keypress",e[6]);function vt(p){e[10](p)}let Fe={label:"Height:",name:"height",type:"number",inputParams:{min:0,max:100,step:1}};e[1]!==void 0&&(Fe.value=e[1]),h=new et({props:Fe}),fe.push(()=>xe(h,"value",vt)),h.$on("keypress",e[6]);let te=e[4],C=[];for(let p=0;p<te.length;p+=1)C[p]=rt(lt(e,te,p));return{c(){t=g("form"),n=g("div"),l=g("h3"),l.textContent="Project Manager",r=b(),s=g("button"),s.textContent="Import level set",o=b(),u=g("button"),u.textContent="Export level set",i=b(),c=g("button"),c.textContent="Delete current project",a=b(),f=g("div"),m=g("h3"),m.textContent="Grid Size",$=b(),D(w.$$.fragment),K=b(),D(h.$$.fragment),q=b(),A=g("button"),A.textContent="Resize",he=b(),V=g("div"),se=g("h3"),Me=ce("Tile selector : "),Se=ce(e[3]),Be=b(),M=g("ul"),Q=g("li"),L=g("input"),De=b(),F=g("label"),Z=g("img"),Ge=b();for(let p=0;p<C.length;p+=1)C[p].c();ze=b(),x=g("li"),R=g("input"),He=b(),ie=g("label"),ie.textContent="+",d(l,"class","svelte-17mgxwz"),d(s,"class","svelte-17mgxwz"),d(u,"class","svelte-17mgxwz"),d(c,"class","warn svelte-17mgxwz"),d(n,"class","fileManager svelte-17mgxwz"),d(m,"class","svelte-17mgxwz"),d(A,"class","svelte-17mgxwz"),d(f,"class","gridSize svelte-17mgxwz"),d(se,"class","svelte-17mgxwz"),d(L,"type","radio"),d(L,"name","tileEraser"),d(L,"id","tileEraser"),L.__value=-1,L.value=L.__value,d(L,"class","svelte-17mgxwz"),e[12][0].push(L),Te(Z.src,Re=Dt)||d(Z,"src",Re),d(Z,"alt","Empty tile"),d(Z,"class","svelte-17mgxwz"),d(F,"for","tileEraser"),d(F,"class","noBg svelte-17mgxwz"),G(F,"current",e[3]==-1),d(Q,"class","tileSelector__itemList__tile svelte-17mgxwz"),d(R,"type","file"),d(R,"id","newTileButton"),d(R,"accept","*.png, *.jpg, *.jpeg"),d(R,"class","svelte-17mgxwz"),d(ie,"for","newTileButton"),d(ie,"class","noBg svelte-17mgxwz"),d(x,"class","tileSelector__itemList__tile svelte-17mgxwz"),d(M,"class","tileSelector__itemList svelte-17mgxwz"),d(V,"class","tileSelector"),d(t,"class","svelte-17mgxwz")},m(p,B){S(p,t,B),_(t,n),_(n,l),_(n,r),_(n,s),_(n,o),_(n,u),_(n,i),_(n,c),_(t,a),_(t,f),_(f,m),_(f,$),O(w,f,null),_(f,K),O(h,f,null),_(f,q),_(f,A),_(t,he),_(t,V),_(V,se),_(se,Me),_(se,Se),_(V,Be),_(V,M),_(M,Q),_(Q,L),L.checked=L.__value===e[3],_(Q,De),_(Q,F),_(F,Z),_(M,Ge);for(let ne=0;ne<C.length;ne+=1)C[ne].m(M,null);_(M,ze),_(M,x),_(x,R),_(x,He),_(x,ie),ee=!0,Le||(Je=[T(c,"click",Ee(e[8])),T(A,"click",Ee(e[7])),T(L,"change",e[11]),T(R,"change",e[14]),T(R,"change",Ee(e[5]))],Le=!0)},p(p,B){const ne={};!W&&B&4&&(W=!0,ne.value=p[2],Ze(()=>W=!1)),w.$set(ne);const Ue={};if(!v&&B&2&&(v=!0,Ue.value=p[1],Ze(()=>v=!1)),h.$set(Ue),(!ee||B&8)&&Oe(Se,p[3]),B&8&&(L.checked=L.__value===p[3]),(!ee||B&8)&&G(F,"current",p[3]==-1),B&24){te=p[4];let I;for(I=0;I<te.length;I+=1){const Xe=lt(p,te,I);C[I]?C[I].p(Xe,B):(C[I]=rt(Xe),C[I].c(),C[I].m(M,ze))}for(;I<C.length;I+=1)C[I].d(1);C.length=te.length}},i(p){ee||(z(w.$$.fragment,p),z(h.$$.fragment,p),ee=!0)},o(p){E(w.$$.fragment,p),E(h.$$.fragment,p),ee=!1},d(p){p&&k(t),N(w),N(h),e[12][0].splice(e[12][0].indexOf(L),1),ft(C,p),Le=!1,H(Je)}}}function Gt(e){let t,n;return t=new gt({props:{title:"Configuration",shadow:"right",$$slots:{default:[Rt]},$$scope:{ctx:e}}}),{c(){D(t.$$.fragment)},m(l,r){O(t,l,r),n=!0},p(l,[r]){const s={};r&262175&&(s.$$scope={dirty:r,ctx:l}),t.$set(s)},i(l){n||(z(t.$$.fragment,l),n=!0)},o(l){E(t.$$.fragment,l),n=!1},d(l){N(t,l)}}}function Ht(e,t,n){let l,r,s,o;j(e,_e,v=>n(1,l=v)),j(e,de,v=>n(2,r=v)),j(e,ye,v=>n(3,s=v)),j(e,re,v=>n(4,o=v));let u;const i=()=>{let v=u[0],q=new FileReader;q.onload=()=>{const A=new Image;A.src=q.result,A.title=v.name,re.update(he=>[...he,{name:v.name,data:A}])},q.readAsDataURL(v)},c=v=>{v.key==="Enter"&&(a(),v.preventDefault())},a=()=>{P.resize(r,l)},f=()=>{confirm("Are you sure you want to delete this project?")&&(P.reset(),re.set([]))},m=[[]];function $(v){r=v,de.set(r)}function w(v){l=v,_e.set(l)}function W(){s=this.__value,ye.set(s)}function K(){s=this.__value,ye.set(s)}function h(){u=this.files,n(0,u)}return[u,l,r,s,o,i,c,a,f,$,w,W,m,K,h]}class Jt extends Y{constructor(t){super(),X(this,t,Ht,Gt,J,{})}}function Wt(e){let t,n,l,r,s,o;return{c(){t=g("div"),n=g("canvas"),d(n,"width",l=e[2]*32),d(n,"height",r=e[1]*32),d(t,"class","grid svelte-2utg53")},m(u,i){S(u,t,i),_(t,n),e[8](n),s||(o=[T(window,"resize",e[3]),T(n,"click",e[4]),T(n,"mousemove",e[5])],s=!0)},p(u,[i]){i&4&&l!==(l=u[2]*32)&&d(n,"width",l),i&2&&r!==(r=u[1]*32)&&d(n,"height",r)},i:y,o:y,d(u){u&&k(t),e[8](null),s=!1,H(o)}}}function Ft(e,t,n){let l,r,s,o;j(e,P,h=>n(7,s=h)),j(e,re,h=>n(10,o=h));let{gridId:u}=t,i,c;const a=()=>{c&&(c.clearRect(0,0,i.width,i.height),s[u].forEach((h,v)=>{h.forEach((q,A)=>{q===-1?(c.fillStyle="white",c==null||c.fillRect(A*32,v*32,32,32)):c==null||c.drawImage(o[q].data,A*32,v*32,32,32)})}))},f=()=>{if(c){a(),c.beginPath(),c.strokeStyle="black",c.fillStyle="black",c.lineWidth=1;for(let h=0;h<l;h++)c.moveTo(h*32,0),c.lineTo(h*32,r*32);for(let h=0;h<r;h++)c.moveTo(0,h*32),c.lineTo(l*32,h*32);c.stroke()}},m=(h,v)=>({x:Math.floor(h/i.width*l),y:Math.floor(v/i.height*r)}),$=dt(),w=h=>{$("click",m(h.offsetX,h.offsetY))},W=h=>{h.buttons===1&&$("click",m(h.offsetX,h.offsetY))};Lt(()=>{c=i.getContext("2d"),c||alert("Could not get canvas context"),c.imageSmoothingEnabled=!0,console.log("Context loaded"),u>-1&&f()}),Et(()=>{u>-1&&f()});function K(h){fe[h?"unshift":"push"](()=>{i=h,n(0,i)})}return e.$$set=h=>{"gridId"in h&&n(6,u=h.gridId)},e.$$.update=()=>{e.$$.dirty&192&&n(2,l=s[u][0].length),e.$$.dirty&192&&n(1,r=s[u].length),e.$$.dirty&192&&s[u]&&f()},[i,r,l,f,w,W,u,s,K]}class mt extends Y{constructor(t){super(),X(this,t,Ft,Wt,J,{gridId:6})}}function Ut(e){let t;return{c(){t=g("p"),t.textContent="There is currently no level selected.",d(t,"class","center svelte-92ejb9")},m(n,l){S(n,t,l)},p:y,i:y,o:y,d(n){n&&k(t)}}}function Xt(e){let t,n,l,r,s,o;return{c(){t=g("div"),n=g("p"),n.textContent="There is currently no levels.",l=b(),r=g("button"),r.textContent="Add a new level",d(t,"class","center svelte-92ejb9")},m(u,i){S(u,t,i),_(t,n),_(t,l),_(t,r),s||(o=T(r,"click",e[2]),s=!0)},p:y,i:y,o:y,d(u){u&&k(t),s=!1,o()}}}function Yt(e){let t,n,l;return n=new mt({props:{gridId:e[0]}}),n.$on("click",e[3]),{c(){t=g("div"),D(n.$$.fragment),d(t,"class","editor__gridContener svelte-92ejb9")},m(r,s){S(r,t,s),O(n,t,null),l=!0},p(r,s){const o={};s&1&&(o.gridId=r[0]),n.$set(o)},i(r){l||(z(n.$$.fragment,r),l=!0)},o(r){E(n.$$.fragment,r),l=!1},d(r){r&&k(t),N(n)}}}function Kt(e){let t,n,l,r;const s=[Yt,Xt,Ut],o=[];function u(i,c){return i[0]!=-1&&i[1].length>0?0:i[1].length==0?1:2}return n=u(e),l=o[n]=s[n](e),{c(){t=g("section"),l.c(),d(t,"class","editor svelte-92ejb9")},m(i,c){S(i,t,c),o[n].m(t,null),r=!0},p(i,[c]){let a=n;n=u(i),n===a?o[n].p(i,c):(Pe(),E(o[a],1,1,()=>{o[a]=null}),qe(),l=o[n],l?l.p(i,c):(l=o[n]=s[n](i),l.c()),z(l,1),l.m(t,null))},i(i){r||(z(l),r=!0)},o(i){E(l),r=!1},d(i){i&&k(t),o[n].d()}}}function Vt(e,t,n){let l,r,s;return j(e,ye,i=>n(4,l=i)),j(e,$e,i=>n(0,r=i)),j(e,P,i=>n(1,s=i)),[r,s,()=>{P.addLevel(),$e.set(s.length-1)},i=>{console.log(l),P.setLevelCell(r,i.detail.x,i.detail.y,l)}]}class Qt extends Y{constructor(t){super(),X(this,t,Vt,Kt,J,{})}}function st(e,t,n){const l=e.slice();return l[5]=t[n],l[7]=n,l}function Zt(e){let t;return{c(){t=g("p"),t.textContent="There is currently no levels."},m(n,l){S(n,t,l)},p:y,i:y,o:y,d(n){n&&k(t)}}}function xt(e){let t,n,l=e[0],r=[];for(let o=0;o<l.length;o+=1)r[o]=it(st(e,l,o));const s=o=>E(r[o],1,1,()=>{r[o]=null});return{c(){t=g("ul");for(let o=0;o<r.length;o+=1)r[o].c();d(t,"class","levelList__list svelte-ynwbqm")},m(o,u){S(o,t,u);for(let i=0;i<r.length;i+=1)r[i].m(t,null);n=!0},p(o,u){if(u&3){l=o[0];let i;for(i=0;i<l.length;i+=1){const c=st(o,l,i);r[i]?(r[i].p(c,u),z(r[i],1)):(r[i]=it(c),r[i].c(),z(r[i],1),r[i].m(t,null))}for(Pe(),i=l.length;i<r.length;i+=1)s(i);qe()}},i(o){if(!n){for(let u=0;u<l.length;u+=1)z(r[u]);n=!0}},o(o){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)E(r[u]);n=!1},d(o){o&&k(t),ft(r,o)}}}function it(e){let t,n,l,r,s,o,u,i,c;return s=new mt({props:{gridId:e[7],interactive:!1}}),{c(){t=g("li"),n=g("input"),l=b(),r=g("label"),D(s.$$.fragment),o=b(),d(n,"type","radio"),d(n,"name","level"),d(n,"id","level-"+e[7]),n.__value=e[7],n.value=n.__value,d(n,"class","svelte-ynwbqm"),e[4][0].push(n),d(r,"class","levelList__list__grid svelte-ynwbqm"),d(r,"for","level-"+e[7]),d(t,"class","svelte-ynwbqm")},m(a,f){S(a,t,f),_(t,n),n.checked=n.__value===e[1],_(t,l),_(t,r),O(s,r,null),_(t,o),u=!0,i||(c=T(n,"change",e[3]),i=!0)},p(a,f){f&2&&(n.checked=n.__value===a[1])},i(a){u||(z(s.$$.fragment,a),u=!0)},o(a){E(s.$$.fragment,a),u=!1},d(a){a&&k(t),e[4][0].splice(e[4][0].indexOf(n),1),N(s),i=!1,c()}}}function en(e){let t,n,l,r,s,o,u,i;const c=[xt,Zt],a=[];function f(m,$){return m[0].length!=0?0:1}return r=f(e),s=a[r]=c[r](e),{c(){t=g("button"),t.textContent="Add a new level",n=b(),l=g("div"),s.c(),d(t,"class","svelte-ynwbqm"),d(l,"class","levelList svelte-ynwbqm")},m(m,$){S(m,t,$),S(m,n,$),S(m,l,$),a[r].m(l,null),o=!0,u||(i=T(t,"click",e[2]),u=!0)},p(m,$){let w=r;r=f(m),r===w?a[r].p(m,$):(Pe(),E(a[w],1,1,()=>{a[w]=null}),qe(),s=a[r],s?s.p(m,$):(s=a[r]=c[r](m),s.c()),z(s,1),s.m(l,null))},i(m){o||(z(s),o=!0)},o(m){E(s),o=!1},d(m){m&&k(t),m&&k(n),m&&k(l),a[r].d(),u=!1,i()}}}function tn(e){let t,n;return t=new gt({props:{title:"Level Selector",shadow:"left",$$slots:{default:[en]},$$scope:{ctx:e}}}),{c(){D(t.$$.fragment)},m(l,r){O(t,l,r),n=!0},p(l,[r]){const s={};r&259&&(s.$$scope={dirty:r,ctx:l}),t.$set(s)},i(l){n||(z(t.$$.fragment,l),n=!0)},o(l){E(t.$$.fragment,l),n=!1},d(l){N(t,l)}}}function nn(e,t,n){let l,r;j(e,P,i=>n(0,l=i)),j(e,$e,i=>n(1,r=i));const s=i=>{P.addLevel()},o=[[]];function u(){r=this.__value,$e.set(r)}return[l,r,s,u,o]}class ln extends Y{constructor(t){super(),X(this,t,nn,tn,J,{})}}function rn(e){let t,n,l,r,s,o,u,i,c;return r=new Jt({}),o=new Qt({}),i=new ln({}),{c(){t=g("header"),t.innerHTML="<h1>Vivian level Editor</h1>",n=b(),l=g("main"),D(r.$$.fragment),s=b(),D(o.$$.fragment),u=b(),D(i.$$.fragment),d(l,"class","svelte-1fszlhy")},m(a,f){S(a,t,f),S(a,n,f),S(a,l,f),O(r,l,null),_(l,s),O(o,l,null),_(l,u),O(i,l,null),c=!0},p:y,i(a){c||(z(r.$$.fragment,a),z(o.$$.fragment,a),z(i.$$.fragment,a),c=!0)},o(a){E(r.$$.fragment,a),E(o.$$.fragment,a),E(i.$$.fragment,a),c=!1},d(a){a&&k(t),a&&k(n),a&&k(l),N(r),N(o),N(i)}}}class sn extends Y{constructor(t){super(),X(this,t,null,rn,J,{})}}new sn({target:document.getElementById("app")});
